{{ block title }}
    Round {{ player.round_number }}, Stage 2
{{ endblock }}
{{ block content }}

    <table style="border-spacing: 4px; border-collapse: separate">
      <tr>
        <td style="width: 2em" id="legend-player-color">&nbsp;</td>
        <td style="text-align: left">You</td>
        <td style="text-align: left" id="legend-player-money"></td>
      </tr>
      <tr>
        <td style="width: 2em" id="legend-opponent-color">&nbsp;</td>
        <td style="text-align: left">Opponent</td>
        <td style="text-align: left" id="legend-opponent-money"></td>
      </tr>
    </table>

    <br>
    <p>In addition to the initial endowment, you alone have been given a further 200 lab dollars.</p>
    <p>You may now transfer any amount from 0 to 200 of those additional lab dollars to your counterpart.</p>

    {{ formfields }}

    {{ next_button }}

    <script>
        const IS_BLUE = ('{{ player.id_in_group }}' == '1');
        const PLAYER_COLOR = (IS_BLUE ? '#0000ff' : '#00ff00');
        const OPPONENT_COLOR = (IS_BLUE ? '#00ff00' : '#0000ff');
        const INITIAL_ENDOWMENT = '{{ C.w }}';
        const TRANSFER_AMOUNT = 0;
        const BLUE_MONEY = 2 * INITIAL_ENDOWMENT - TRANSFER_AMOUNT;
        const RED_MONEY = (1 * INITIAL_ENDOWMENT) + (1 * TRANSFER_AMOUNT);
        const PLAYER_MONEY = (IS_BLUE ? BLUE_MONEY : RED_MONEY);
        const OPPONENT_MONEY = (IS_BLUE ? RED_MONEY : BLUE_MONEY);


        document.getElementById('legend-player-color').style.background = PLAYER_COLOR;
        document.getElementById('legend-opponent-color').style.background = OPPONENT_COLOR;
        document.getElementById('legend-player-money').innerHTML = PLAYER_MONEY;
        document.getElementById('legend-opponent-money').innerHTML = OPPONENT_MONEY;

    </script>
{{ endblock }}